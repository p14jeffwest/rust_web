구상한 것에 대해 기본설계를 하고 나서 프로그램을 짜는 것이랑, 머릿속에만 구상하고 프로그램을 짜는 것이랑, 나중에 보면 효율성에 많은 차이가 난다. 설계하고 프로그램을 짠 것이 시행착오가 적고 전체 프로그램 짜는 기간이 짧아진다. 

설계할 때는, 최종 모습을 먼저 생각해 보는 것도 좋다. 최종 화면을 구상해 보고, 이 화면에서 어떤 기능을 수행할 수 있고, 그러기 위해서는 어떤 함수가 필요하겠다는 형태로 설계하는 것이다. 

여기서도 이런 형태로 설계를 해보겠다. 

[TOC]

## 웹 화면 설계 

웹 페이지에서 보여주는 최종 화면은 아래와 같은 형태일 것이다.   
한자로 된 문장들이 있을 것이고, 이것을 한글로 변환해서 보여줄 출력 창이 있을 것이다. 

<img src="https://wikidocs.net/images/page/280945/1.png" width=500 border=1>


그런데, 좀 더 생각해 보면, 변환할 한자를 텍스트 박스로만이 아니고, 파일로 받을 수도 있겠고, 웹 페이지에 대한 url로 받을 수도 있어야 하겠다.  
그렇다면 아래와 같은 형태가 되어야 할 것 같다. 

<img src="https://wikidocs.net/images/page/280945/2.png" width=500 border=1>   

## 기능/함수 설계

앞에서 설계한 화면에서 수행될 기능을 구상해 보면, 크게 3개 기능이 필요하다. 

* 입력된 한자가 포함된 String을 순수 한글 String으로 변환: `convert_string`
* url에 해당하는 페이지를 읽어서 페이지 내에 있는 모든 한자를 변환해서 html  혹은 텍스트 String으로 출력: `convert_web`  
* 한자가 포함된 텍스트 파일을 입력받아서 한글로 변환된 파일 생성: `convert_file`  



~~여기서는 두 가지만 구현해 볼 것이다. convert_string,  convert_web  

> ~~텍스트 파일을 입력받아서 처리하는 것은, 만드는 것이 어렵기보다는 파일을 받아서 서버에 저장했다가 이것을 읽어서 다른 파일로 저장 후, 다시 브라우저로 리턴하는 것이어서 번거롭다.   


## 프로젝트 폴더/파일 구조 설계    

프론트앤드에 해당하는 html, css, js 파일과, 서버단에서 처리되는 rs 파일을 모두 하나의 프로젝트에서 관리할 것이다. 아래와 같은 구조를 가지게 하자.  

<img src="https://wikidocs.net/images/page/280945/3.png" width=150 border=1> 

이렇게 구조를 가져가면, 프로젝트의 루트 폴더에서 vs code를 열면, 모든 코드를 vs code에서 관리할 수 있어 편리하다.  

* css: css 파일용 디렉토리  
* js: Java Script용 디렉토리  
* md: 지금 작성하고 있는 이 mark down용 설명 파일들  
* src: Rust 코드  
* index.html: 웹 페이지용 html  

> 이러한 구조가 되게 실제 작업하는 것은, 다음 챕터인 '프로젝트 만들기'에서 할 것이다.  

## 클라이언트-서버 구조 설계    

서버는 AWS의 Lightsail을 사용하자.  

아래와 같은 구조로 구성. 

<img src="https://wikidocs.net/images/page/280945/4.png" width=500 border=1> 

* 브라우저에서 서버로는 HTTPS를 통해 접근하도록 하자.  
* 서버에서는 순수 Rust 패키지인 Axum을 사용해서 웹 서버를 만들자. 







